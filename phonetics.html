<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PiPlexion - Phonetics Lab</title>
<link rel="icon" href="favicon.png" type="image/png">
<link rel="stylesheet" href="style.css">
</head>
<body>
<!-- Navigation Menu -->
<nav>
  <a href="index.html">Home</a> |
  <a href="phonetics.html">Phonetics Lab</a> |
  <a href="morphology.html">Morphology Lab</a> |
  <a href="syntax.html">Syntax Lab</a> |
  <a href="semantics.html">Semantics Lab</a> |
  <a href="pragmatics.html">Pragmatics Lab</a> |
  <a href="discourse.html">Discourse Lab</a> |
  <a href="about.html">About</a>
</nav>
<hr>

<h1>Phonetics & Phonology Lab</h1>
<p>Analyze syllable structure, consonant clusters, and C/V patterns interactively.</p>

<!-- C/V Pattern Tool Section -->
<section id="cvPatternTool">
  <h2>C/V Pattern</h2>
  <input id="word" placeholder="Enter a word">
  <br>
  <button onclick="analyze()">Analyze</button>
  <pre id="output"></pre>
</section>

<script>
function analyze() {
  const word = document.getElementById("word").value.trim().toLowerCase();
  if(word === "") {
    alert("Please enter a word!");
    return;
  }

  const vowels = ['a','e','i','o','u'];
  const consonants = 'bcdfghjklmnpqrstvwxyz'.split('');
  
  let cvPattern = '';
  for (let char of word) {
    if (vowels.includes(char)) cvPattern += 'V';
    else if (consonants.includes(char)) cvPattern += 'C';
    else cvPattern += char; // keep numbers/punctuation
  }

  document.getElementById("output").innerText =
    "Word: " + word + "\n" +
    "C/V Pattern: " + cvPattern;
}
</script>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>PiPlexion | IPA-based C/V Pattern</title>

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="favicon.png">

    <!-- External CSS -->
    <link rel="stylesheet" href="style.css">
</head>

<body>
  
<section class="tool-box" aria-labelledby="cvPatternTitle">
  <h2 id="cvPatternTitle">IPA-based C/V Pattern</h2>
  <p class="subtitle">
    Phonological analysis based on IPA sounds 
  </p>

  <label for="ipaInput">IPA Transcription</label>
  <input type="text" id="ipaInput" aria-describedby="cvPatternDesc" placeholder="e.g. /tʃeɪndʒ/, /straɪk/, [fəˈnɛtɪks]">
  <p id="cvPatternDesc" class="sr-only">Enter a phonetic transcription using IPA symbols. The tool will output the consonant–vowel (C/V) pattern.</p>

  <button onclick="generateCV()" aria-controls="output">Generate C/V Pattern</button>

  <div class="result" id="output" role="region" aria-live="polite"></div>
</section>

<script>
function generateCV() {
    let ipa = document.getElementById("ipaInput").value;

    // Remove slashes, brackets, spaces, stress & length marks
    ipa = ipa.replace(/[\/\[\]\sˈˌː]/g, "");

    /* -----------------------------
       IPA DIPHTHONGS (single V)
       ----------------------------- */
    const diphthongs = [
        "aɪ","aʊ","ɔɪ",
        "eɪ","oʊ",
        "ɪə","eə","ʊə"
    ];

    /* -----------------------------
       IPA MONOPHTHONG VOWELS
       ----------------------------- */
    const vowels = [
        "i","ɪ","e","ɛ","æ","a","ɑ","ɒ","ɔ","o","ʊ","u",
        "ʌ","ə","ɜ","ɚ","ɝ","ɐ","œ","ø","y","ɨ"
    ];

    /* -----------------------------
       IPA AFFRICATES (single C)
       ----------------------------- */
    const affricates = [
        "tʃ","dʒ","ts","dz","tɕ","dʑ","tʂ","dʐ"
    ];

    let pattern = "";
    let i = 0;

    while (i < ipa.length) {

        // Check affricates first
        let matched = false;
        for (let aff of affricates) {
            if (ipa.startsWith(aff, i)) {
                pattern += "C";
                i += aff.length;
                matched = true;
                break;
            }
        }
        if (matched) continue;

        // Check diphthongs
        for (let dip of diphthongs) {
            if (ipa.startsWith(dip, i)) {
                pattern += "V";
                i += dip.length;
                matched = true;
                break;
            }
        }
        if (matched) continue;

        // Check monophthong vowels
        if (vowels.includes(ipa[i])) {
            pattern += "V";
        } else {
            // Everything else is consonantal
            pattern += "C";
        }

        i++;
    }

    document.getElementById("output").innerHTML =
        `C/V Pattern: <span class="pattern">${pattern}</span>`;
}
</script>

</body>
</html>


<footer>
  <hr>
  <p>
    © 2026 <strong>PiPlexion</strong>.<br>
    This web app (including text, interface, and underlying code) is licensed under a
    <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">
      Creative Commons Attribution–NonCommercial–NoDerivatives 4.0 International License
    </a>.
    <br>
    Please cite PiPlexion when using this tool for academic or educational purposes.
    <br>
    Website: <a href="https://piplexion.github.io" target="_blank">https://piplexion.github.io</a>
  </p>
</footer>


</body>
</html>


